import XCTest
import Testing
@testable import DemoProject

final class ImageCacheTests: XCTestCase {
//    var imageCache: ImageCache!
//    
//    override func setUp() {
//        super.setUp()
//        imageCache = ImageCache.shared
//        imageCache.clearCache()
//    }
//    
//    override func tearDown() {
//        imageCache.clearCache()
//        super.tearDown()
//    }
//    
//    @Test func testImageCaching() async throws {
//        // Given
//        let testImage = UIImage(systemName: "star.fill")!
//        let testURL = URL(string: "https://example.com/test.jpg")!
//        
//        // When
//        imageCache.cache(image: testImage, for: testURL)
//        
//        // Then
//        let cachedImage = imageCache.getCachedImage(for: testURL)
//        #expect(cachedImage != nil)
//    }
//    
//    @Test func testImageEviction() async throws {
//        // Given
//        let testImage = UIImage(systemName: "star.fill")!
//        let testURL = URL(string: "https://example.com/test.jpg")!
//        
//        // When
//        imageCache.cache(image: testImage, for: testURL)
//        imageCache.clearCache()
//        
//        // Then
//        let cachedImage = imageCache.getCachedImage(for: testURL)
//        #expect(cachedImage == nil)
//    }
//    
//    @Test func testAsyncImageLoading() async throws {
//        // Given
//        let testURL = URL(string: "https://example.com/test.jpg")!
//        let expectation = XCTestExpectation(description: "Image loaded")
//        
//        // When
//        imageCache.load(url: testURL) { image in
//            // Then
//            #expect(image != nil || true) // Allow nil for network failure
//            expectation.fulfill()
//        }
//        
//        await fulfillment(of: [expectation], timeout: 5.0)
//    }
} 
